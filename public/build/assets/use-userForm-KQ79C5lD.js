import{j as e,u as g}from"./app-m4SEsFiE.js";import{I as o}from"./input-5V3zXozb.js";import{L as l}from"./label-KmRgxdzX.js";import{B as j}from"./button-B-WEzdAj.js";import{C as v}from"./checkbox-BcpP1FIe.js";import{T as f}from"./textarea-VzZyahIs.js";import{S as b,a as C,b as _,c as w,d as F}from"./select-Bucetb1j.js";import{U as N}from"./upload-image-oP5XFRK1.js";import{I as d}from"./InputError-CjroZfWt.js";import{g as y}from"./dropdown-menu-BE1c-vsa.js";function q({data:r,setData:a,errors:i,processing:n,roles:x=[],onSubmit:m,submitText:t="Submit",isEdit:c=!1,currentProfile:h=null}){return e.jsxs("form",{onSubmit:m,className:"grid gap-4",encType:"multipart/form-data",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"name",children:"Full Name"}),e.jsx(o,{id:"name",type:"text",value:r.name,onChange:s=>a("name",s.target.value)}),e.jsx(d,{message:i?.name})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(o,{id:"email",type:"email",value:r.email,onChange:s=>a("email",s.target.value)}),e.jsx(d,{message:i?.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"first_name",children:"First Name"}),e.jsx(o,{id:"first_name",type:"text",value:r.first_name,onChange:s=>a("first_name",s.target.value)}),e.jsx(d,{message:i?.first_name})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"last_name",children:"Last Name"}),e.jsx(o,{id:"last_name",type:"text",value:r.last_name,onChange:s=>a("last_name",s.target.value)}),e.jsx(d,{message:i?.last_name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"dob",children:"Date of Birth"}),e.jsx(o,{id:"dob",type:"date",value:r.dob?r.dob.slice(0,10):"",onChange:s=>a("dob",s.target.value)}),e.jsx(d,{message:i?.dob})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"phone",children:"Phone Number"}),e.jsx(o,{id:"phone",type:"tel",value:r.phone,onChange:s=>a("phone",s.target.value)}),e.jsx(d,{message:i?.phone})]})]}),!c&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"password",children:"Password"}),e.jsx(o,{id:"password",type:"password",value:r.password,onChange:s=>a("password",s.target.value),required:!0}),e.jsx(d,{message:i?.password})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"password_confirmation",children:"Confirm Password"}),e.jsx(o,{id:"password_confirmation",type:"password",value:r.password_confirmation,onChange:s=>a("password_confirmation",s.target.value),required:!0}),e.jsx(d,{message:i?.password_confirmation})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"role",children:"Assign Role"}),e.jsxs(b,{value:r.role,onValueChange:s=>a("role",s),children:[e.jsx(C,{children:e.jsx(_,{placeholder:"Select a role"})}),e.jsx(w,{children:x.map(s=>e.jsx(F,{value:s.name,children:s.display_name||s.name},s.id))})]}),e.jsx(d,{message:i?.role})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{checked:!!r.status,onCheckedChange:s=>a("status",!!s),id:"status"}),e.jsx(l,{htmlFor:"status",children:"Active User"}),e.jsx(d,{message:i?.status})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(N,{id:"profile",label:"Profile Image",value:r.profile,currentImage:h?y(h,"users"):null,onChange:s=>a("profile",s),error:i?.profile,previewClassName:"w-20 h-20 object-cover rounded-full border",maxSize:2})}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"address",children:"Address"}),e.jsx(f,{id:"address",value:r.address,onChange:s=>a("address",s.target.value),placeholder:"Enter full address"}),e.jsx(d,{message:i?.address})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(j,{type:"submit",disabled:n,children:t})})]})}function R(r={}){const{data:a,setData:i,post:n,put:x,processing:m,errors:t,reset:c}=g({name:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:"",dob:"",address:"",phone:"",profile:"",status:!1,role:"",...r});return{data:a,setData:i,processing:m,errors:t,submitCreate:p=>{p.preventDefault(),n(route("users.store"),{onSuccess:()=>c()})},submitUpdate:p=>u=>{u.preventDefault(),n(`${route("users.update",p)}?_method=PUT`)}}}export{q as U,R as u};
