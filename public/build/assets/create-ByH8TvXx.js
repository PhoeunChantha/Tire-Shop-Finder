import{r as l,u as M,j as e,H as $,b as p}from"./app-m4SEsFiE.js";import{W as H}from"./website-layout-V4DO3rYZ.js";import{B as R}from"./button-B-WEzdAj.js";import{I as c}from"./input-5V3zXozb.js";import{L as r}from"./label-KmRgxdzX.js";import{T as j}from"./textarea-VzZyahIs.js";import{C as W,a as G,b as K,c as Y}from"./card-DAZkrJCd.js";import{S as d}from"./searchable-select-DmSoQ5zD.js";import{T as z}from"./time-range-picker-Bf0dvUz-.js";import{T as A,a as O,b as v,c as N}from"./tabs-CEAETiSQ.js";import{S as q}from"./seo-fields-CxEgE878.js";import{B as I}from"./building-CDBhthyV.js";import{G as J}from"./globe-CrBjwrOr.js";import{M as Q}from"./map-pin-BAgRtuu2.js";import{C as U}from"./clock-D1DRmoQH.js";/* empty css            */import"./dropdown-menu-BE1c-vsa.js";import"./index-D61C-zyG.js";import"./index-D5fK6wwI.js";import"./index-9BWeTyv_.js";import"./index-BMjyTS6w.js";import"./chevron-up-DZ2i7E5U.js";import"./check-Cd4UBeWr.js";import"./use-business-settings-z5aa--sV.js";import"./menu-BBZNjlwA.js";import"./send-BhHq3YGm.js";import"./external-link-MMDSQ-QP.js";import"./mail-BwgBbrBr.js";import"./search-DxnUE-sH.js";import"./chevrons-up-down-DL6jCn9c.js";import"./badge-CvBMkbv0.js";import"./image-upload-Bl86N5Wu.js";import"./upload-CVCRsBzD.js";import"./file-text-BETlvmro.js";import"./tag-A9Juhgz6.js";import"./plus-CnyTP5s-.js";function Ve({auth:f,provinces:y}){const[b,h]=l.useState([]),[C,m]=l.useState([]),[S,o]=l.useState([]),[k,x]=l.useState(!1),[T,g]=l.useState(!1),[w,u]=l.useState(!1),[L,B]=l.useState("en"),{data:i,setData:t,post:E,processing:_,errors:a}=M({name:"",descriptions:"",name_translations:{en:"",km:""},descriptions_translations:{en:"",km:""},province_id:"",district_id:"",commune_id:"",village_id:"",latitude:"",longitude:"",opening_time:"",closing_time:"",seo_title:"",seo_description:"",seo_title_translations:{en:"",km:""},seo_description_translations:{en:"",km:""},seo_image:"",seo_keywords:[]}),D=async s=>{if(t("province_id",s),t("district_id",""),t("commune_id",""),t("village_id",""),h([]),m([]),o([]),s){x(!0);try{const n=await p.get(`/api/districts/${s}`);h(n.data)}catch(n){console.error("Error fetching districts:",n)}finally{x(!1)}}},P=async s=>{if(t("district_id",s),t("commune_id",""),t("village_id",""),m([]),o([]),s){g(!0);try{const n=await p.get(`/api/communes/${s}`);m(n.data)}catch(n){console.error("Error fetching communes:",n)}finally{g(!1)}}},V=async s=>{if(t("commune_id",s),t("village_id",""),o([]),s){u(!0);try{const n=await p.get(`/api/villages/${s}`);o(n.data)}catch(n){console.error("Error fetching villages:",n)}finally{u(!1)}}},F=s=>{s.preventDefault(),E("/create-business")};return e.jsxs(H,{children:[e.jsx($,{title:"Create Your Tire Shop"}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Register Your Tire Shop"}),e.jsxs("p",{className:"text-lg text-gray-600",children:["Welcome, ",f.user.name,"! Let's get your tire shop listed on our platform."]})]}),e.jsxs(W,{children:[e.jsx(G,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5"}),"Business Information"]})}),e.jsx(Y,{children:e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(J,{className:"w-5 h-5"}),e.jsx("h3",{className:"text-lg font-medium",children:"Business Information"})]}),e.jsxs(A,{value:L,onValueChange:s=>B(s),children:[e.jsxs(O,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsxs(v,{value:"en",className:"flex items-center gap-2",children:[e.jsx("span",{children:"🇺🇸"}),e.jsx("span",{children:"English"})]}),e.jsxs(v,{value:"km",className:"flex items-center gap-2",children:[e.jsx("span",{children:"🇰🇭"}),e.jsx("span",{children:"ខ្មែរ"})]})]}),e.jsxs(N,{value:"en",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"name_en",children:["Business Name (English) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"name_en",type:"text",value:i.name_translations.en,onChange:s=>{const n=s.target.value;t("name_translations",{...i.name_translations,en:n}),t("name",n)},placeholder:"e.g., Phnom Penh Tire Center",className:a["name_translations.en"]?"border-red-500":""}),a["name_translations.en"]&&e.jsx("p",{className:"text-sm text-red-500",children:a["name_translations.en"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"descriptions_en",children:"Business Description (English)"}),e.jsx(j,{id:"descriptions_en",value:i.descriptions_translations.en,onChange:s=>{const n=s.target.value;t("descriptions_translations",{...i.descriptions_translations,en:n}),t("descriptions",n)},placeholder:"Tell customers about your tire shop, services, and specialties...",rows:3,className:a["descriptions_translations.en"]?"border-red-500":""}),a["descriptions_translations.en"]&&e.jsx("p",{className:"text-sm text-red-500",children:a["descriptions_translations.en"]})]})]}),e.jsxs(N,{value:"km",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"name_km",children:"ឈ្មោះអាជីវកម្ម (ខ្មែរ)"}),e.jsx(c,{id:"name_km",type:"text",value:i.name_translations.km,onChange:s=>{t("name_translations",{...i.name_translations,km:s.target.value})},placeholder:"ឧ. ហាងកង់ភ្នំពេញ",className:a["name_translations.km"]?"border-red-500":""}),a["name_translations.km"]&&e.jsx("p",{className:"text-sm text-red-500",children:a["name_translations.km"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"descriptions_km",children:"ការពិពណ៌នាអាជីវកម្ម (ខ្មែរ)"}),e.jsx(j,{id:"descriptions_km",value:i.descriptions_translations.km,onChange:s=>{t("descriptions_translations",{...i.descriptions_translations,km:s.target.value})},placeholder:"ប្រាប់អតិថិជនអំពីហាងកង់របស់អ្នក សេវាកម្ម និងជំនាញ...",rows:3,className:a["descriptions_translations.km"]?"border-red-500":""}),a["descriptions_translations.km"]&&e.jsx("p",{className:"text-sm text-red-500",children:a["descriptions_translations.km"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Q,{className:"w-5 h-5"}),e.jsx("h3",{className:"text-lg font-medium",children:"Location"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{children:["Province ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{options:y.map(s=>({value:s.id.toString(),label:s.name})),value:i.province_id,onValueChange:D,placeholder:"Select Province",searchPlaceholder:"Search provinces...",emptyMessage:"No provinces found.",className:a.province_id?"border-red-500":""}),a.province_id&&e.jsx("p",{className:"text-sm text-red-500",children:a.province_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{children:["District ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{options:b.map(s=>({value:s.id.toString(),label:s.name})),value:i.district_id,onValueChange:P,placeholder:"Select District",searchPlaceholder:"Search districts...",emptyMessage:"No districts found.",disabled:!i.province_id,loading:k,className:a.district_id?"border-red-500":""},`district-${i.province_id}`),a.district_id&&e.jsx("p",{className:"text-sm text-red-500",children:a.district_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Commune"}),e.jsx(d,{options:C.map(s=>({value:s.id.toString(),label:s.name})),value:i.commune_id,onValueChange:V,placeholder:"Select Commune",searchPlaceholder:"Search communes...",emptyMessage:"No communes found.",disabled:!i.district_id,loading:T,className:a.commune_id?"border-red-500":""},`commune-${i.district_id}`),a.commune_id&&e.jsx("p",{className:"text-sm text-red-500",children:a.commune_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Village"}),e.jsx(d,{options:S.map(s=>({value:s.id.toString(),label:s.name})),value:i.village_id,onValueChange:s=>t("village_id",s),placeholder:"Select Village",searchPlaceholder:"Search villages...",emptyMessage:"No villages found.",disabled:!i.commune_id,loading:w,className:a.village_id?"border-red-500":""},`village-${i.commune_id}`),a.village_id&&e.jsx("p",{className:"text-sm text-red-500",children:a.village_id})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-5 h-5"}),e.jsx("h3",{className:"text-lg font-medium",children:"Business Hours & Location"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{children:["Business Hours ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(z,{startTime:i.opening_time,endTime:i.closing_time,onStartTimeChange:s=>t("opening_time",s),onEndTimeChange:s=>t("closing_time",s),startError:a.opening_time,endError:a.closing_time})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"latitude",children:["Latitude ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"latitude",type:"text",value:i.latitude,onChange:s=>t("latitude",s.target.value),placeholder:"11.5564",className:a.latitude?"border-red-500":""}),a.latitude&&e.jsx("p",{className:"text-sm text-red-500",children:a.latitude})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"longitude",children:["Longitude ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"longitude",type:"text",value:i.longitude,onChange:s=>t("longitude",s.target.value),placeholder:"104.9282",className:a.longitude?"border-red-500":""}),a.longitude&&e.jsx("p",{className:"text-sm text-red-500",children:a.longitude})]})]})]})]}),e.jsx("div",{className:"pt-6",children:e.jsx(q,{seoTitle:i.seo_title,seoDescription:i.seo_description,seoImage:i.seo_image,seoKeywords:i.seo_keywords,onSeoTitleChange:s=>t("seo_title",s),onSeoDescriptionChange:s=>t("seo_description",s),onSeoImageChange:s=>t("seo_image",s),onSeoKeywordsChange:s=>t("seo_keywords",s),errors:a})}),e.jsx("div",{className:"flex justify-end space-x-4 pt-4",children:e.jsx(R,{type:"submit",disabled:_,size:"lg",children:_?"Creating...":"Create Business"})})]})})]})]})})]})}export{Ve as default};
