import{r as l,j as e,d as L,L as C,U as Ae,a as J}from"./app-m4SEsFiE.js";import{c as R,a as h,u as Q,d as Ie,S as P,e as Re,B as ee}from"./button-B-WEzdAj.js";import{R as Pe,T as De,D as Me,C as Oe,a as Be,P as $e,O as ze}from"./index-89Llf8Yk.js";import{X as He,u as Ue,P as Fe,D as Ge}from"./index-9BWeTyv_.js";import{c as We,u as Ke,a as w,P as te}from"./index-D61C-zyG.js";import{e as re,R as Ve,A as Ye,h as qe,C as Xe,i as F,j as Ze,g as Je,S as se,D as ae,a as ne,b as oe,d as z,k as Qe,c as q,l as et,L as tt}from"./dropdown-menu-BE1c-vsa.js";import{P as ie}from"./index-D5fK6wwI.js";import{C as rt,a as st,b as at}from"./collapsible-CJSf55eg.js";import{C as le}from"./chevron-right-BHx-thNb.js";import{A as ce}from"./app-logo-icon-BvgPms2S.js";import{u as nt}from"./use-business-settings-z5aa--sV.js";import{B as ot}from"./building-CDBhthyV.js";import{U as it}from"./users-CCvNB95W.js";import{S as lt}from"./shield-BLMtoxU7.js";import{A as ct,a as dt,b as ut}from"./avatar-7NHQ17s9.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ht=R("Image",pt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],mt=R("Key",ft);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],bt=R("LayoutGrid",xt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],vt=R("PanelLeft",gt),B=768;function de(){const[t,r]=l.useState();return l.useEffect(()=>{const s=window.matchMedia(`(max-width: ${B-1}px)`),a=()=>{r(window.innerWidth<B)};return s.addEventListener("change",a),r(window.innerWidth<B),()=>s.removeEventListener("change",a)},[]),!!t}function jt({...t}){return e.jsx(Pe,{"data-slot":"sheet",...t})}function yt({...t}){return e.jsx($e,{"data-slot":"sheet-portal",...t})}function wt({className:t,...r}){return e.jsx(ze,{"data-slot":"sheet-overlay",className:h("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",t),...r})}function Ct({className:t,children:r,side:s="right",...a}){return e.jsxs(yt,{children:[e.jsx(wt,{}),e.jsxs(Oe,{"data-slot":"sheet-content",className:h("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...a,children:[r,e.jsxs(Be,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(He,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Nt({className:t,...r}){return e.jsx("div",{"data-slot":"sheet-header",className:h("flex flex-col gap-1.5 p-4",t),...r})}function Tt({className:t,...r}){return e.jsx(De,{"data-slot":"sheet-title",className:h("text-foreground font-semibold",t),...r})}function St({className:t,...r}){return e.jsx(Me,{"data-slot":"sheet-description",className:h("text-muted-foreground text-sm",t),...r})}var Et=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kt="VisuallyHidden",ue=l.forwardRef((t,r)=>e.jsx(ie.span,{...t,ref:r,style:{...Et,...t.style}}));ue.displayName=kt;var Lt=ue,[D,Qr]=We("Tooltip",[re]),M=re(),pe="TooltipProvider",_t=700,H="tooltip.open",[At,G]=D(pe),he=t=>{const{__scopeTooltip:r,delayDuration:s=_t,skipDelayDuration:a=300,disableHoverableContent:i=!1,children:o}=t,n=l.useRef(!0),d=l.useRef(!1),c=l.useRef(0);return l.useEffect(()=>{const p=c.current;return()=>window.clearTimeout(p)},[]),e.jsx(At,{scope:r,isOpenDelayedRef:n,delayDuration:s,onOpen:l.useCallback(()=>{window.clearTimeout(c.current),n.current=!1},[]),onClose:l.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>n.current=!0,a)},[a]),isPointerInTransitRef:d,onPointerInTransitChange:l.useCallback(p=>{d.current=p},[]),disableHoverableContent:i,children:o})};he.displayName=pe;var k="Tooltip",[It,_]=D(k),fe=t=>{const{__scopeTooltip:r,children:s,open:a,defaultOpen:i,onOpenChange:o,disableHoverableContent:n,delayDuration:d}=t,c=G(k,t.__scopeTooltip),p=M(r),[u,x]=l.useState(null),f=Ue(),m=l.useRef(0),v=n??c.disableHoverableContent,j=d??c.delayDuration,y=l.useRef(!1),[b,g]=Ke({prop:a,defaultProp:i??!1,onChange:Y=>{Y?(c.onOpen(),document.dispatchEvent(new CustomEvent(H))):c.onClose(),o?.(Y)},caller:k}),T=l.useMemo(()=>b?y.current?"delayed-open":"instant-open":"closed",[b]),S=l.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,g(!0)},[g]),E=l.useCallback(()=>{window.clearTimeout(m.current),m.current=0,g(!1)},[g]),V=l.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,g(!0),m.current=0},j)},[j,g]);return l.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),e.jsx(Ve,{...p,children:e.jsx(It,{scope:r,contentId:f,open:b,stateAttribute:T,trigger:u,onTriggerChange:x,onTriggerEnter:l.useCallback(()=>{c.isOpenDelayedRef.current?V():S()},[c.isOpenDelayedRef,V,S]),onTriggerLeave:l.useCallback(()=>{v?E():(window.clearTimeout(m.current),m.current=0)},[E,v]),onOpen:S,onClose:E,disableHoverableContent:v,children:s})})};fe.displayName=k;var U="TooltipTrigger",me=l.forwardRef((t,r)=>{const{__scopeTooltip:s,...a}=t,i=_(U,s),o=G(U,s),n=M(s),d=l.useRef(null),c=Q(r,d,i.onTriggerChange),p=l.useRef(!1),u=l.useRef(!1),x=l.useCallback(()=>p.current=!1,[]);return l.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),e.jsx(Ye,{asChild:!0,...n,children:e.jsx(ie.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...a,ref:c,onPointerMove:w(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:w(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:w(t.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:w(t.onFocus,()=>{p.current||i.onOpen()}),onBlur:w(t.onBlur,i.onClose),onClick:w(t.onClick,i.onClose)})})});me.displayName=U;var W="TooltipPortal",[Rt,Pt]=D(W,{forceMount:void 0}),xe=t=>{const{__scopeTooltip:r,forceMount:s,children:a,container:i}=t,o=_(W,r);return e.jsx(Rt,{scope:r,forceMount:s,children:e.jsx(te,{present:s||o.open,children:e.jsx(Fe,{asChild:!0,container:i,children:a})})})};xe.displayName=W;var N="TooltipContent",be=l.forwardRef((t,r)=>{const s=Pt(N,t.__scopeTooltip),{forceMount:a=s.forceMount,side:i="top",...o}=t,n=_(N,t.__scopeTooltip);return e.jsx(te,{present:a||n.open,children:n.disableHoverableContent?e.jsx(ge,{side:i,...o,ref:r}):e.jsx(Dt,{side:i,...o,ref:r})})}),Dt=l.forwardRef((t,r)=>{const s=_(N,t.__scopeTooltip),a=G(N,t.__scopeTooltip),i=l.useRef(null),o=Q(r,i),[n,d]=l.useState(null),{trigger:c,onClose:p}=s,u=i.current,{onPointerInTransitChange:x}=a,f=l.useCallback(()=>{d(null),x(!1)},[x]),m=l.useCallback((v,j)=>{const y=v.currentTarget,b={x:v.clientX,y:v.clientY},g=$t(b,y.getBoundingClientRect()),T=zt(b,g),S=Ht(j.getBoundingClientRect()),E=Ft([...T,...S]);d(E),x(!0)},[x]);return l.useEffect(()=>()=>f(),[f]),l.useEffect(()=>{if(c&&u){const v=y=>m(y,u),j=y=>m(y,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",j),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",j)}}},[c,u,m,f]),l.useEffect(()=>{if(n){const v=j=>{const y=j.target,b={x:j.clientX,y:j.clientY},g=c?.contains(y)||u?.contains(y),T=!Ut(b,n);g?f():T&&(f(),p())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,n,p,f]),e.jsx(ge,{...t,ref:o})}),[Mt,Ot]=D(k,{isInside:!1}),Bt=Ie("TooltipContent"),ge=l.forwardRef((t,r)=>{const{__scopeTooltip:s,children:a,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:n,...d}=t,c=_(N,s),p=M(s),{onClose:u}=c;return l.useEffect(()=>(document.addEventListener(H,u),()=>document.removeEventListener(H,u)),[u]),l.useEffect(()=>{if(c.trigger){const x=f=>{f.target?.contains(c.trigger)&&u()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[c.trigger,u]),e.jsx(Ge,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:n,onFocusOutside:x=>x.preventDefault(),onDismiss:u,children:e.jsxs(Xe,{"data-state":c.stateAttribute,...p,...d,ref:r,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(Bt,{children:a}),e.jsx(Mt,{scope:s,isInside:!0,children:e.jsx(Lt,{id:c.contentId,role:"tooltip",children:i||a})})]})})});be.displayName=N;var ve="TooltipArrow",je=l.forwardRef((t,r)=>{const{__scopeTooltip:s,...a}=t,i=M(s);return Ot(ve,s).isInside?null:e.jsx(qe,{...i,...a,ref:r})});je.displayName=ve;function $t(t,r){const s=Math.abs(r.top-t.y),a=Math.abs(r.bottom-t.y),i=Math.abs(r.right-t.x),o=Math.abs(r.left-t.x);switch(Math.min(s,a,i,o)){case o:return"left";case i:return"right";case s:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function zt(t,r,s=5){const a=[];switch(r){case"top":a.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":a.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":a.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":a.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return a}function Ht(t){const{top:r,right:s,bottom:a,left:i}=t;return[{x:i,y:r},{x:s,y:r},{x:s,y:a},{x:i,y:a}]}function Ut(t,r){const{x:s,y:a}=t;let i=!1;for(let o=0,n=r.length-1;o<r.length;n=o++){const d=r[o],c=r[n],p=d.x,u=d.y,x=c.x,f=c.y;u>a!=f>a&&s<(x-p)*(a-u)/(f-u)+p&&(i=!i)}return i}function Ft(t){const r=t.slice();return r.sort((s,a)=>s.x<a.x?-1:s.x>a.x?1:s.y<a.y?-1:s.y>a.y?1:0),Gt(r)}function Gt(t){if(t.length<=1)return t.slice();const r=[];for(let a=0;a<t.length;a++){const i=t[a];for(;r.length>=2;){const o=r[r.length-1],n=r[r.length-2];if((o.x-n.x)*(i.y-n.y)>=(o.y-n.y)*(i.x-n.x))r.pop();else break}r.push(i)}r.pop();const s=[];for(let a=t.length-1;a>=0;a--){const i=t[a];for(;s.length>=2;){const o=s[s.length-1],n=s[s.length-2];if((o.x-n.x)*(i.y-n.y)>=(o.y-n.y)*(i.x-n.x))s.pop();else break}s.push(i)}return s.pop(),r.length===1&&s.length===1&&r[0].x===s[0].x&&r[0].y===s[0].y?r:r.concat(s)}var Wt=he,Kt=fe,Vt=me,Yt=xe,qt=be,Xt=je;function ye({delayDuration:t=0,...r}){return e.jsx(Wt,{"data-slot":"tooltip-provider",delayDuration:t,...r})}function Zt({...t}){return e.jsx(ye,{children:e.jsx(Kt,{"data-slot":"tooltip",...t})})}function Jt({...t}){return e.jsx(Vt,{"data-slot":"tooltip-trigger",...t})}function Qt({className:t,sideOffset:r=4,children:s,...a}){return e.jsx(Yt,{children:e.jsxs(qt,{"data-slot":"tooltip-content",sideOffset:r,className:h("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-w-sm rounded-md px-3 py-1.5 text-xs",t),...a,children:[s,e.jsx(Xt,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const er="sidebar_state",tr=3600*24*7,rr="16rem",sr="18rem",ar="3rem",nr="b",we=l.createContext(null);function O(){const t=l.useContext(we);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function or({defaultOpen:t=!0,open:r,onOpenChange:s,className:a,style:i,children:o,...n}){const d=de(),[c,p]=l.useState(!1),[u,x]=l.useState(t),f=r??u,m=l.useCallback(b=>{const g=typeof b=="function"?b(f):b;s?s(g):x(g),document.cookie=`${er}=${g}; path=/; max-age=${tr}`},[s,f]),v=l.useCallback(()=>d?p(b=>!b):m(b=>!b),[d,m,p]);l.useEffect(()=>{const b=g=>{g.key===nr&&(g.metaKey||g.ctrlKey)&&(g.preventDefault(),v())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[v]);const j=f?"expanded":"collapsed",y=l.useMemo(()=>({state:j,open:f,setOpen:m,isMobile:d,openMobile:c,setOpenMobile:p,toggleSidebar:v}),[j,f,m,d,c,p,v]);return e.jsx(we.Provider,{value:y,children:e.jsx(ye,{delayDuration:0,children:e.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":rr,"--sidebar-width-icon":ar,...i},className:h("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",a),...n,children:o})})})}function ir({side:t="left",variant:r="sidebar",collapsible:s="offcanvas",className:a,children:i,...o}){const{isMobile:n,state:d,openMobile:c,setOpenMobile:p}=O();return s==="none"?e.jsx("div",{"data-slot":"sidebar",className:h("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",a),...o,children:i}):n?e.jsxs(jt,{open:c,onOpenChange:p,...o,children:[e.jsxs(Nt,{className:"sr-only",children:[e.jsx(Tt,{children:"Sidebar"}),e.jsx(St,{children:"Displays the mobile sidebar."})]}),e.jsx(Ct,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":sr},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:i})})]}):e.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":d,"data-collapsible":d==="collapsed"?s:"","data-variant":r,"data-side":t,"data-slot":"sidebar",children:[e.jsx("div",{className:h("relative h-svh w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),e.jsx("div",{className:h("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...o,children:e.jsx("div",{"data-sidebar":"sidebar",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function lr({className:t,onClick:r,...s}){const{toggleSidebar:a}=O();return e.jsxs(ee,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:h("h-7 w-7",t),onClick:i=>{r?.(i),a()},...s,children:[e.jsx(vt,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function cr({className:t,...r}){return e.jsx("main",{"data-slot":"sidebar-inset",className:h("bg-background relative flex max-w-full min-h-svh flex-1 flex-col","peer-data-[variant=inset]:min-h-[calc(100svh-(--spacing(4)))] md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-0",t),...r})}function dr({className:t,...r}){return e.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:h("flex flex-col gap-2 p-2",t),...r})}function ur({className:t,...r}){return e.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:h("flex flex-col gap-2 p-2",t),...r})}function pr({className:t,...r}){return e.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:h("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...r})}function hr({className:t,...r}){return e.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:h("relative flex w-full min-w-0 flex-col p-2",t),...r})}function fr({className:t,asChild:r=!1,...s}){const a=r?P:"div";return e.jsx(a,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:h("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 group-data-[collapsible=icon]:select-none group-data-[collapsible=icon]:pointer-events-none",t),...s})}function K({className:t,...r}){return e.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:h("flex w-full min-w-0 flex-col gap-1",t),...r})}function A({className:t,...r}){return e.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:h("group/menu-item relative",t),...r})}const mr=Re("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function I({asChild:t=!1,isActive:r=!1,variant:s="default",size:a="default",tooltip:i,className:o,...n}){const d=t?P:"button",{isMobile:c,state:p}=O(),u=e.jsx(d,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":a,"data-active":r,className:h(mr({variant:s,size:a}),o),...n});return i?(typeof i=="string"&&(i={children:i}),e.jsxs(Zt,{children:[e.jsx(Jt,{asChild:!0,children:u}),e.jsx(Qt,{side:"right",align:"center",hidden:p!=="collapsed"||c,...i})]})):u}function xr({className:t,...r}){return e.jsx("ul",{"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:h("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...r})}function br({className:t,...r}){return e.jsx("li",{"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",className:h("group/menu-sub-item relative",t),...r})}function gr({asChild:t=!1,size:r="md",isActive:s=!1,className:a,...i}){const o=t?P:"a";return e.jsx(o,{"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":r,"data-active":s,className:h("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",a),...i})}function vr({variant:t="header",children:r,...s}){return t==="sidebar"?e.jsx(cr,{...s,children:r}):e.jsx("main",{className:"mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",...s,children:r})}function jr({children:t,variant:r="header"}){const s=L().props.sidebarOpen;return r==="header"?e.jsx("div",{className:"flex min-h-screen w-full flex-col",children:t}):e.jsx(or,{defaultOpen:s,children:t})}function yr({items:t=[]}){const r=L(),{t:s}=F();return e.jsxs(hr,{className:"px-2 py-0",children:[e.jsx(fr,{children:s("admin_panel")}),e.jsx(K,{children:t.map(a=>{const i=a.items?.some(n=>n.href&&r.url.startsWith(n.href)),o=a.href?r.url.startsWith(a.href):i;return a.items&&a.items.length>0?e.jsx(rt,{asChild:!0,defaultOpen:i,children:e.jsxs(A,{children:[e.jsx(st,{asChild:!0,children:e.jsxs(I,{tooltip:{children:a.title},isActive:o,children:[a.icon&&e.jsx(a.icon,{}),e.jsx("span",{children:a.title}),e.jsx(le,{className:"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]})}),e.jsx(at,{children:e.jsx(xr,{children:a.items.map(n=>e.jsx(br,{children:e.jsx(gr,{asChild:!0,isActive:n.href?r.url.startsWith(n.href):!1,children:e.jsx(C,{href:n.href||"#",prefetch:!0,children:e.jsx("span",{children:n.title})})})},n.title))})})]})},a.title):e.jsx(A,{children:e.jsx(I,{asChild:!0,isActive:o,tooltip:{children:a.title},children:e.jsxs(C,{href:a.href||"#",prefetch:!0,children:[a.icon&&e.jsx(a.icon,{}),e.jsx("span",{children:a.title})]})})},a.title)})})]})}class wr extends l.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){this.props.onError?.(r,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"flex items-center justify-center p-4 bg-red-50 border border-red-200 rounded-md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-600 mb-2",children:e.jsx("svg",{className:"w-8 h-8 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("p",{className:"text-sm text-red-800 font-medium",children:"Something went wrong"}),e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Component failed to load"})]})}):this.props.children}}function Cr(t,r={}){const s=a=>e.jsx(wr,{fallback:r.fallback,onError:r.onError,children:e.jsx(t,{...a})});return s.displayName=`withErrorBoundary(${t.displayName||t.name})`,s}const Nr="Tire Shop Finder Cambodia",X="size-12",Tr="size-12",Ce=({businessSettings:t,className:r="",showName:s=!0})=>{const[a,i]=l.useState(!1),{businessData:o,getBusinessName:n}=nt(t),{locale:d}=Ze(),c=n(d),p=o.systemLogo&&!a?Je(o.systemLogo,"business-settings"):null,u=l.useCallback(()=>{i(!0)},[]),x=l.useCallback(()=>{i(!1)},[]),f=()=>p?e.jsx("img",{src:p,alt:`${c} Logo`,className:`${X} rounded object-cover bg-white dark:bg-black`,onError:u,onLoad:x,loading:"lazy"}):e.jsx(ce,{className:`${X} fill-current text-white dark:text-black`,"aria-label":"Default Logo"});return e.jsxs("div",{className:`flex items-center gap-3 ${r}`,children:[e.jsx("div",{className:`flex ${Tr} items-center justify-center rounded-md bg-sidebar-primary text-sidebar-primary-foreground`,role:"img","aria-label":"Application Logo",children:f()}),s&&e.jsx("div",{className:"grid flex-1 text-left text-sm",children:e.jsx("span",{className:"mb-0.5 truncate leading-tight font-semibold",title:c,children:c})})]})};Ce.displayName="AppLogo";const Sr=()=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex size-8 items-center justify-center rounded-md bg-gray-200",children:e.jsx(ce,{className:"size-5 fill-current text-gray-600"})}),e.jsx("div",{className:"grid flex-1 text-left text-sm",children:e.jsx("span",{className:"mb-0.5 truncate leading-tight font-semibold text-gray-600",children:Nr})})]}),Er=Cr(Ae.memo(Ce),{fallback:e.jsx(Sr,{}),onError:(t,r)=>{console.error("AppLogo error:",t,r)}});function kr(){const{t}=F(),r=[{title:t("dashboard"),href:"/admin/dashboard",icon:bt},{title:t("businesses"),href:"/admin/businesses",icon:ot},{title:t("users"),href:"/admin/users",icon:it},{title:t("roles"),href:"/admin/roles",icon:lt},{title:t("permissions"),href:"/admin/permissions",icon:mt},{title:t("banners"),href:"/admin/banners",icon:ht},{title:t("settings"),icon:se,items:[{title:t("business_settings"),href:"/admin/business-settings"},{title:t("seo"),href:"/admin/seo"}]}];return e.jsxs(ir,{collapsible:"icon",variant:"inset",children:[e.jsx(dr,{children:e.jsx(K,{children:e.jsx(A,{children:e.jsx(I,{size:"lg",asChild:!0,children:e.jsx(C,{href:"/admin/dashboard",prefetch:!0,children:e.jsx(Er,{})})})})})}),e.jsx(pr,{children:e.jsx(yr,{items:r})})]})}const Ne=l.forwardRef(({...t},r)=>e.jsx("nav",{ref:r,"aria-label":"breadcrumb",...t}));Ne.displayName="Breadcrumb";const Te=l.forwardRef(({className:t,...r},s)=>e.jsx("ol",{ref:s,className:h("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...r}));Te.displayName="BreadcrumbList";const Se=l.forwardRef(({className:t,...r},s)=>e.jsx("li",{ref:s,className:h("inline-flex items-center gap-1.5",t),...r}));Se.displayName="BreadcrumbItem";const Ee=l.forwardRef(({asChild:t,className:r,...s},a)=>{const i=t?P:"a";return e.jsx(i,{ref:a,className:h("transition-colors hover:text-foreground",r),...s})});Ee.displayName="BreadcrumbLink";const ke=l.forwardRef(({className:t,...r},s)=>e.jsx("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:h("font-normal text-foreground",t),...r}));ke.displayName="BreadcrumbPage";const Le=({children:t,className:r,...s})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:h("[&>svg]:size-3.5",r),...s,children:t??e.jsx(le,{})});Le.displayName="BreadcrumbSeparator";function Lr({breadcrumbs:t}){return e.jsx(e.Fragment,{children:t.length>0&&e.jsx(Ne,{children:e.jsx(Te,{children:t.map((r,s)=>{const a=s===t.length-1;return e.jsxs(l.Fragment,{children:[e.jsx(Se,{children:a?e.jsx(ke,{children:r.title}):e.jsx(Ee,{asChild:!0,children:e.jsx(C,{href:r.href,children:r.title})})}),!a&&e.jsx(Le,{})]},s)})})})})}function Z({country:t,className:r="w-6 h-4",alt:s}){const a={en:"/images/flags/us.svg",km:"/images/flags/kh.svg"};return e.jsx("img",{src:a[t],alt:s||`${t} flag`,className:`object-cover rounded-sm ${r}`,loading:"lazy"})}const $=[{code:"en",name:"English"},{code:"km",name:"ខ្មែរ"}];function _r(){const{i18n:t,t:r}=F(),{locale:s}=L().props,a=n=>{t.changeLanguage(n),J.get(`/language/${n}`,{},{preserveScroll:!0,preserveState:!1,onSuccess:()=>{t.language!==n&&t.changeLanguage(n)}})},i=s||t.language,o=$.find(n=>n.code===i)||$[0];return e.jsxs(ae,{children:[e.jsx(ne,{asChild:!0,children:e.jsxs(ee,{variant:"ghost",size:"sm",className:"h-8 w-12 px-1 hover:bg-accent/50 border border-transparent hover:border-border",children:[e.jsx(Z,{country:o.code,alt:o.name,className:"w-6 h-4"}),e.jsx("span",{className:"sr-only",children:r("language")})]})}),e.jsxs(oe,{align:"end",className:"min-w-[160px]",children:[e.jsx("div",{className:"px-3 py-2 text-xs font-medium text-muted-foreground border-b",children:r("language")}),$.map(n=>e.jsxs(z,{onClick:()=>a(n.code),className:"flex items-center gap-3 cursor-pointer py-3 px-3",children:[e.jsx(Z,{country:n.code,alt:n.name,className:"w-8 h-5 shadow-sm"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:n.name}),e.jsx("span",{className:"text-xs text-muted-foreground uppercase",children:n.code})]}),o.code===n.code&&e.jsx("div",{className:"ml-auto h-2 w-2 rounded-full bg-blue-500"})]},n.code))]})]})}function Ar(){return l.useCallback(t=>{const r=t.trim().split(" ");if(r.length===0)return"";if(r.length===1)return r[0].charAt(0).toUpperCase();const s=r[0].charAt(0),a=r[r.length-1].charAt(0);return`${s}${a}`.toUpperCase()},[])}function _e({user:t,showEmail:r=!1}){const s=Ar();return e.jsxs(e.Fragment,{children:[e.jsxs(ct,{className:"h-8 w-8 overflow-hidden rounded-full",children:[e.jsx(dt,{src:t.avatar,alt:t.name}),e.jsx(ut,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:s(t.name)})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-medium",children:t.name}),r&&e.jsx("span",{className:"truncate text-xs text-muted-foreground",children:t.email})]})]})}function Ir(){return l.useCallback(()=>{document.body.style.removeProperty("pointer-events")},[])}function Rr({user:t}){const r=Ir(),s=()=>{r(),J.flushAll()};return e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"p-0 font-normal",children:e.jsx("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:e.jsx(_e,{user:t,showEmail:!0})})}),e.jsx(q,{}),e.jsx(et,{children:e.jsx(z,{asChild:!0,children:e.jsxs(C,{className:"block w-full",href:route("profile.edit"),as:"button",prefetch:!0,onClick:r,children:[e.jsx(se,{className:"mr-2"}),"Settings"]})})}),e.jsx(q,{}),e.jsx(z,{asChild:!0,children:e.jsxs(C,{className:"block w-full",method:"post",href:route("logout"),as:"button",onClick:s,children:[e.jsx(tt,{className:"mr-2"}),"Log out"]})})]})}function Pr(){const{auth:t}=L().props,{state:r}=O(),s=de();return e.jsx(K,{children:e.jsx(A,{children:e.jsxs(ae,{children:[e.jsx(ne,{asChild:!0,children:e.jsx(I,{size:"lg",className:"group text-sidebar-accent-foreground data-[state=open]:bg-sidebar-accent",children:e.jsx(_e,{user:t.user})})}),e.jsx(oe,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",align:"end",side:s?"bottom":r==="collapsed"?"left":"bottom",children:e.jsx(Rr,{user:t.user})})]})})})}function Dr({breadcrumbs:t=[]}){return e.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b border-sidebar-border/50 px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx(lr,{className:"-ml-1"}),e.jsx(Lr,{breadcrumbs:t})]}),e.jsx("div",{className:"flex items-center",children:e.jsx(_r,{})}),e.jsx(ur,{children:e.jsx(Pr,{})})]})}function Mr({children:t,breadcrumbs:r=[]}){return e.jsxs(jr,{variant:"sidebar",children:[e.jsx(kr,{}),e.jsxs(vr,{variant:"sidebar",className:"overflow-x-hidden",children:[e.jsx(Dr,{breadcrumbs:r}),t]})]})}function Or(){const{url:t,props:r}=L(),s=[];!t.endsWith("/admin/dashboard")&&!t.endsWith("/admin")&&s.push({title:"Dashboard",href:route("dashboard")});const a=t.split("/").filter(o=>o!==""&&o!=="admin"),i=o=>({users:{title:"Users",route:"users.index"},businesses:{title:"Businesses",route:"businesses.index"},services:{title:"Services",route:"admin.services.create"},roles:{title:"Roles",route:"roles.index"},permissions:{title:"Permissions",route:"permissions.index"}})[o]||{title:o.charAt(0).toUpperCase()+o.slice(1),route:""};for(let o=0;o<a.length;o++){const n=a[o];if(a.length-1,!/^\d+$/.test(n))if(n==="create")s.push({title:"Create",href:"#"});else if(n==="edit")s.push({title:"Edit",href:"#"});else if(n==="show")s.push({title:"Details",href:"#"});else{const d=i(n);let c="#";try{d.route&&(c=route(d.route))}catch{c="#"}s.push({title:d.title,href:c})}}if(r.business?.name){const o=s.findIndex(n=>n.title==="Businesses");if(o!==-1)try{s.splice(o+1,0,{title:r.business.name,href:route("businesses.show",r.business.id)})}catch{s.splice(o+1,0,{title:r.business.name,href:"#"})}}if(r.user?.name&&a.includes("users")){const o=s.findIndex(n=>n.title==="Users");if(o!==-1&&(a.includes("edit")||a.includes("show")))try{s.splice(o+1,0,{title:r.user.name,href:route("users.show",r.user.id)})}catch{s.splice(o+1,0,{title:r.user.name,href:"#"})}}if(r.role?.name&&a.includes("roles")){const o=s.findIndex(n=>n.title==="Roles");if(o!==-1&&(a.includes("edit")||a.includes("show")))try{s.splice(o+1,0,{title:r.role.name,href:route("roles.show",r.role.id)})}catch{s.splice(o+1,0,{title:r.role.name,href:"#"})}}if(r.permission?.name&&a.includes("permissions")){const o=s.findIndex(n=>n.title==="Permissions");if(o!==-1&&(a.includes("edit")||a.includes("show")))try{s.splice(o+1,0,{title:Array.isArray(r.permission.name)?r.permission.name.join(", "):r.permission.name,href:route("permissions.show",r.permission.id)})}catch{s.splice(o+1,0,{title:Array.isArray(r.permission.name)?r.permission.name.join(", "):r.permission.name,href:"#"})}}return s}const es=({children:t,breadcrumbs:r,...s})=>{const a=Or();return e.jsx(Mr,{breadcrumbs:r||a,...s,children:t})};export{es as A,ht as I,mt as K,bt as L,vt as P,Et as V};
