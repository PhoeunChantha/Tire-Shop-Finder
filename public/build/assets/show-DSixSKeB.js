import{r as f,j as e,H as S,L as m,a as d}from"./app-m4SEsFiE.js";import{A,I as _}from"./app-layout-BumpU3EB.js";import{B as t}from"./button-B-WEzdAj.js";import{C as i,a as r,b as l,c}from"./card-DAZkrJCd.js";import{B as n}from"./badge-CvBMkbv0.js";import{D as I}from"./DeleteModal-BTtVXePO.js";import{S as N,g as L}from"./dropdown-menu-BE1c-vsa.js";import{S as h}from"./square-pen-DmLpV6cU.js";import{C as u}from"./circle-check-big-B30ESugY.js";import{C as k}from"./circle-x-Cy0eg9G4.js";import{B as U}from"./building-CDBhthyV.js";import{C as y}from"./clock-D1DRmoQH.js";import{M as P}from"./map-pin-BAgRtuu2.js";import{P as v}from"./plus-CnyTP5s-.js";import{T as w}from"./trash-2-BkS2BnsL.js";import{U as C}from"./user-Cu1ybp6j.js";import{C as E}from"./calendar-DFZ-2_aj.js";/* empty css            */import"./index-89Llf8Yk.js";import"./index-D61C-zyG.js";import"./index-9BWeTyv_.js";import"./index-D5fK6wwI.js";import"./collapsible-CJSf55eg.js";import"./chevron-right-BHx-thNb.js";import"./app-logo-icon-BvgPms2S.js";import"./use-business-settings-z5aa--sV.js";import"./users-CCvNB95W.js";import"./shield-BLMtoxU7.js";import"./avatar-7NHQ17s9.js";import"./dialog-B3QHYN-w.js";import"./triangle-alert-DzJNMw5Q.js";import"./index-BMjyTS6w.js";function je({auth:T,business:s}){const[B,x]=f.useState(!1),[j,o]=f.useState(!1),g=()=>s.is_vierify?e.jsxs(n,{className:"bg-green-100 text-green-800",children:[e.jsx(u,{className:"w-4 h-4 mr-1"}),"Verified"]}):e.jsxs(n,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(y,{className:"w-4 h-4 mr-1"}),"Pending Review"]}),D=()=>{o(!0),d.delete(`/admin/businesses/${s.id}`,{onSuccess:()=>{x(!1),o(!1)},onError:()=>{o(!1)}})},p=a=>a.image?L(a.image,"businesses"):null;return e.jsxs(A,{children:[e.jsx(S,{title:`${s.name} - Business Details`}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[g(),e.jsxs("span",{className:"text-gray-500",children:["ID: ",s.id]})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{href:`/admin/businesses/${s.id}/edit`,children:e.jsxs(t,{variant:"outline",children:[e.jsx(h,{className:"w-4 h-4 mr-1"}),"Edit"]})}),s.is_vierify?e.jsxs(t,{variant:"destructive",onClick:()=>d.patch(route("businesses.reject",s.id)),children:[e.jsx(k,{className:"w-4 h-4 mr-1"}),"Revoke Verification"]}):e.jsxs(t,{className:"bg-green-600 hover:bg-green-700",onClick:()=>d.patch(route("businesses.verify",s.id)),children:[e.jsx(u,{className:"w-4 h-4 mr-1"}),"Verify Business"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-5 h-5"}),"Business Information"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Business Name"}),e.jsx("p",{className:"text-gray-900 font-medium",children:s.name})]}),s.descriptions&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),e.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:s.descriptions})]}),s.opening_time&&s.closing_time&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Opening Hours"}),e.jsxs("p",{className:"text-gray-900 flex items-center gap-1",children:[e.jsx(y,{className:"w-4 h-4"}),s.formatted_hours]})]})]})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),"Location Details"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Province"}),e.jsx("p",{className:"text-gray-900",children:s.province?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"District"}),e.jsx("p",{className:"text-gray-900",children:s.district?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Commune"}),e.jsx("p",{className:"text-gray-900",children:s.commune?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Village"}),e.jsx("p",{className:"text-gray-900",children:s.village?.name||"N/A"})]})]}),s.latitude&&s.longitude&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Coordinates"}),e.jsxs("p",{className:"text-gray-900",children:["Lat: ",s.latitude,", Lng: ",s.longitude]})]})]})]}),s.image&&e.jsxs(i,{children:[e.jsx(r,{children:e.jsx(l,{children:"Business Image"})}),e.jsx(c,{children:p(s)?e.jsx("img",{src:p(s),alt:s.name,className:"w-full max-w-md rounded-lg shadow-sm"}):e.jsx("div",{className:"w-35 h-35 bg-gray-100 rounded-lg border border-gray-200 flex items-center justify-center",children:e.jsx(_,{className:"w-8 h-8 text-gray-400"})})})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"Services (",s.services?.length||0,")"]}),e.jsx(m,{href:route("admin.services.create",s.id),children:e.jsxs(t,{size:"sm",children:[e.jsx(v,{className:"w-4 h-4 mr-1"}),"Add Service"]})})]})}),e.jsx(c,{children:s.services&&s.services.length>0?e.jsx("div",{className:"space-y-3",children:s.services.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.name}),a.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.description}),a.price&&e.jsxs("p",{className:"text-sm font-medium text-green-600 mt-1",children:["$",a.price]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{href:route("admin.services.edit",a.id),children:e.jsx(t,{size:"sm",variant:"outline",children:e.jsx(h,{className:"w-3 h-3"})})}),e.jsx(t,{size:"sm",variant:"destructive",onClick:()=>{confirm("Are you sure you want to delete this service?")&&d.delete(route("admin.services.destroy",a.id))},children:e.jsx(w,{className:"w-3 h-3"})}),e.jsx(n,{variant:a.status?"default":"secondary",children:a.status?"Active":"Inactive"})]})]},a.id))}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(N,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"No services added yet"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"This business hasn't added any services yet."}),e.jsx(m,{href:route("admin.services.create",s.id),children:e.jsxs(t,{size:"sm",children:[e.jsx(v,{className:"w-4 h-4 mr-1"}),"Add First Service"]})})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5"}),"Business Owner"]})}),e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name"}),e.jsx("p",{className:"text-gray-900",children:s.owner?.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),e.jsx("p",{className:"text-gray-900",children:s.owner?.email})]}),e.jsx("div",{className:"pt-2",children:e.jsx(m,{href:`/admin/users/${s.created_by}`,children:e.jsxs(t,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(C,{className:"w-4 h-4 mr-1"}),"View User Profile"]})})})]})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5"}),"Status & Dates"]})}),e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Verification Status"}),e.jsx("div",{className:"mt-1",children:g()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Business Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(n,{variant:s.status?"default":"secondary",children:s.status?"Active":"Inactive"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Created Date"}),e.jsx("p",{className:"text-gray-900 text-sm",children:new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Last Updated"}),e.jsx("p",{className:"text-gray-900 text-sm",children:new Date(s.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsx(l,{children:"Actions"})}),e.jsx(c,{className:"space-y-2",children:e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(m,{href:`/admin/businesses/${s.id}/edit`,children:e.jsxs(t,{variant:"outline",className:"w-full",children:[e.jsx(h,{className:"w-4 h-4 mr-1"}),"Edit Business"]})}),e.jsxs(t,{variant:"destructive",className:"w-full",onClick:()=>x(!0),disabled:j,children:[e.jsx(w,{className:"w-4 h-4 mr-1"}),"Delete Business"]})]})})]})]})]})]})}),e.jsx(I,{open:B,setOpen:x,onConfirm:D,title:"Delete Business",description:"Are you sure you want to delete this business? This action cannot be undone and will remove all associated data including reviews and settings.",itemName:s.name,confirmText:"Delete Business",processing:j})]})}export{je as default};
