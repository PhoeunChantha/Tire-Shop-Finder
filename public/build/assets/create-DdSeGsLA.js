import{r as v,u as w,j as e,H as C,L as T}from"./app-m4SEsFiE.js";import{A}from"./app-layout-BumpU3EB.js";import{B as p}from"./button-B-WEzdAj.js";import{I as h}from"./input-5V3zXozb.js";import{L as m}from"./label-KmRgxdzX.js";import{T as x}from"./textarea-VzZyahIs.js";import{C as I,a as L,b as E,c as B}from"./card-DAZkrJCd.js";import{S as F}from"./switch-D_Yjk-lk.js";import{T as D,a as P,b as f,c as N}from"./tabs-CEAETiSQ.js";import{I as U}from"./image-upload-Bl86N5Wu.js";import{I as z}from"./icon-input-kYQEGC5b.js";import{B as H}from"./building-CDBhthyV.js";import{G as R}from"./globe-CrBjwrOr.js";import{T as b}from"./trash-2-BkS2BnsL.js";import{P as G}from"./plus-CnyTP5s-.js";/* empty css            */import"./index-89Llf8Yk.js";import"./index-D61C-zyG.js";import"./index-9BWeTyv_.js";import"./index-D5fK6wwI.js";import"./dropdown-menu-BE1c-vsa.js";import"./index-BMjyTS6w.js";import"./collapsible-CJSf55eg.js";import"./chevron-right-BHx-thNb.js";import"./app-logo-icon-BvgPms2S.js";import"./use-business-settings-z5aa--sV.js";import"./users-CCvNB95W.js";import"./shield-BLMtoxU7.js";import"./avatar-7NHQ17s9.js";import"./index-CXFdqqwl.js";import"./upload-CVCRsBzD.js";import"./refresh-cw-Tfuecpvj.js";import"./arrow-up-CudfrPlc.js";import"./arrow-left-BwwF_eMh.js";import"./trending-up-6IWM3mp4.js";import"./calendar-DFZ-2_aj.js";import"./check-Cd4UBeWr.js";import"./chevron-up-DZ2i7E5U.js";import"./chevron-left-CWJJo8rP.js";import"./chevrons-up-down-DL6jCn9c.js";import"./circle-alert-K6ZzB7HG.js";import"./circle-check-big-B30ESugY.js";import"./headphones-Cc5b88RZ.js";import"./circle-x-Cy0eg9G4.js";import"./clock-D1DRmoQH.js";import"./log-in-B1YUGpyb.js";import"./external-link-MMDSQ-QP.js";import"./eye-CCNsDBNk.js";import"./menu-BBZNjlwA.js";import"./file-text-BETlvmro.js";import"./filter-AGlDKPsx.js";import"./zap-CjUNX2a9.js";import"./link-D8EI3dRK.js";import"./loader-circle-ZYACwF_W.js";import"./mail-BwgBbrBr.js";import"./map-pin-BAgRtuu2.js";import"./send-BhHq3YGm.js";import"./minus-iT1XeTgz.js";import"./sun-CChxEi6n.js";import"./navigation-Dxgi_kO7.js";import"./save-DOibpMUW.js";import"./search-DxnUE-sH.js";import"./user-plus-DDchT_5r.js";import"./sparkles-BaQmxOdm.js";import"./square-pen-DmLpV6cU.js";import"./star-BHohlhdT.js";import"./tag-A9Juhgz6.js";import"./toggle-left-BkwfKXxV.js";import"./toggle-right-BhYlkflX.js";import"./triangle-alert-DzJNMw5Q.js";import"./user-cog-CkW8tt9I.js";import"./user-Cu1ybp6j.js";import"./wrench-Cil6SQd7.js";function os({business:d}){const[y,S]=v.useState("en"),[n,o]=v.useState([{name:"",price:"",descriptions:"",name_translations:{en:"",km:""},descriptions_translations:{en:"",km:""},status:!0,image:null,icon:null}]),{data:V,setData:l,post:$,processing:u,errors:t}=w({services:[{name:"",price:"",descriptions:"",name_translations:{en:"",km:""},descriptions_translations:{en:"",km:""},status:!0,image:null,icon:null}]});v.useEffect(()=>{l("services",n)},[]);const j=(c,s,i)=>{const a=[...n];a[c]={...a[c],[s]:i},o(a),l("services",a)},_=()=>{const c=[...n,{name:"",price:"",descriptions:"",name_translations:{en:"",km:""},descriptions_translations:{en:"",km:""},status:!0,image:null,icon:null}];o(c),l("services",c)},g=c=>{if(n.length>1){const s=n.filter((i,a)=>a!==c);o(s),l("services",s)}},k=c=>{c.preventDefault();const s=n.filter(i=>i.name.trim()!==""&&i.price.trim()!=="");s.length!==0&&$(route("admin.services.store",d.id),{data:{services:s}})};return e.jsxs(A,{children:[e.jsx(C,{title:`Add Services - ${d.name}`}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:e.jsxs(I,{children:[e.jsxs(L,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"}),"Business: ",d.name]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Add services and pricing for this tire shop business."})]}),e.jsx(B,{children:e.jsxs("form",{onSubmit:k,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(R,{className:"w-5 h-5"}),e.jsx("h3",{className:"text-lg font-medium",children:"Services & Pricing"})]}),e.jsxs(D,{value:y,onValueChange:c=>S(c),children:[e.jsxs(P,{className:"grid w-full grid-cols-2 mb-6 max-w-md",children:[e.jsxs(f,{value:"en",className:"flex items-center gap-2",children:[e.jsx("span",{children:"🇺🇸"}),e.jsx("span",{children:"English"})]}),e.jsxs(f,{value:"km",className:"flex items-center gap-2",children:[e.jsx("span",{children:"🇰🇭"}),e.jsx("span",{children:"ខ្មែរ"})]})]}),e.jsx(N,{value:"en",className:"space-y-6",children:n.map((c,s)=>e.jsxs("div",{className:"border rounded-lg p-6 space-y-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["Service #",s+1," (English)"]}),n.length>1&&e.jsxs(p,{type:"button",variant:"destructive",size:"sm",onClick:()=>g(s),children:[e.jsx(b,{className:"w-4 h-4 mr-1"}),"Remove"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(m,{htmlFor:`service-name-en-${s}`,children:["Service Name (English) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:`service-name-en-${s}`,type:"text",value:c.name_translations.en,onChange:i=>{const a=i.target.value,r=[...n];r[s]={...r[s],name_translations:{...r[s].name_translations,en:a},name:a},o(r),l("services",r)},placeholder:"e.g., Tire Installation, Wheel Balancing",className:t[`services.${s}.name_translations.en`]||t[`services.${s}.name`]?"border-red-500":""}),(t[`services.${s}.name_translations.en`]||t[`services.${s}.name`])&&e.jsx("p",{className:"text-sm text-red-500",children:t[`services.${s}.name_translations.en`]||t[`services.${s}.name`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(m,{htmlFor:`service-price-${s}`,children:["Price (USD) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:`service-price-${s}`,type:"number",step:"0.01",min:"0",value:c.price,onChange:i=>j(s,"price",i.target.value),placeholder:"0.00",className:t[`services.${s}.price`]?"border-red-500":""}),t[`services.${s}.price`]&&e.jsx("p",{className:"text-sm text-red-500",children:t[`services.${s}.price`]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(U,{label:"Service Image",value:c.image,onChange:(i,a)=>{const r=[...n];i?r[s]={...r[s],image:i}:a?r[s]={...r[s],image:a}:r[s]={...r[s],image:null},o(r),l("services",r)},error:t[`services.${s}.image`],placeholder:"Upload service image or enter URL"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(z,{label:"Service Icon",value:c.icon||"",onChange:i=>{const a=[...n];a[s]={...a[s],icon:i},o(a),l("services",a)},error:t[`services.${s}.icon`],placeholder:"battery-charging, wrench, car..."})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:`service-desc-en-${s}`,children:"Service Description (English)"}),e.jsx(x,{id:`service-desc-en-${s}`,value:c.descriptions_translations.en,onChange:i=>{const a=i.target.value,r=[...n];r[s]={...r[s],descriptions_translations:{...r[s].descriptions_translations,en:a},descriptions:a},o(r),l("services",r)},placeholder:"Describe what this service includes...",rows:3,className:t[`services.${s}.descriptions_translations.en`]||t[`services.${s}.descriptions`]?"border-red-500":""}),(t[`services.${s}.descriptions_translations.en`]||t[`services.${s}.descriptions`])&&e.jsx("p",{className:"text-sm text-red-500",children:t[`services.${s}.descriptions_translations.en`]||t[`services.${s}.descriptions`]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(m,{className:"text-base",children:"Active Status"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Enable or disable this service"})]}),e.jsx(F,{checked:c.status,onCheckedChange:i=>j(s,"status",i)})]})]},s))}),e.jsx(N,{value:"km",className:"space-y-6",children:n.map((c,s)=>e.jsxs("div",{className:"border rounded-lg p-6 space-y-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["សេវាកម្ម #",s+1," (ខ្មែរ)"]}),n.length>1&&e.jsxs(p,{type:"button",variant:"destructive",size:"sm",onClick:()=>g(s),children:[e.jsx(b,{className:"w-4 h-4 mr-1"}),"លុបចេញ"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:`service-name-km-${s}`,children:"ឈ្មោះសេវាកម្ម (ខ្មែរ)"}),e.jsx(h,{id:`service-name-km-${s}`,type:"text",value:c.name_translations.km,onChange:i=>{const a=i.target.value,r=[...n];r[s]={...r[s],name_translations:{...r[s].name_translations,km:a}},o(r),l("services",r)},placeholder:"ឧ. ការដំឡើងកង់ ការធ្វើតុល្យភាពកង់",className:t[`services.${s}.name_translations.km`]?"border-red-500":""}),t[`services.${s}.name_translations.km`]&&e.jsx("p",{className:"text-sm text-red-500",children:t[`services.${s}.name_translations.km`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:`service-desc-km-${s}`,children:"ការពិពណ៌នាសេវាកម្ម (ខ្មែរ)"}),e.jsx(x,{id:`service-desc-km-${s}`,value:c.descriptions_translations.km,onChange:i=>{const a=i.target.value,r=[...n];r[s]={...r[s],descriptions_translations:{...r[s].descriptions_translations,km:a}},o(r),l("services",r)},placeholder:"ពិពណ៌នាអំពីអ្វីដែលសេវាកម្មនេះរួមបញ្ចូល...",rows:3,className:t[`services.${s}.descriptions_translations.km`]?"border-red-500":""}),t[`services.${s}.descriptions_translations.km`]&&e.jsx("p",{className:"text-sm text-red-500",children:t[`services.${s}.descriptions_translations.km`]})]})]})]},s))})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(p,{type:"button",variant:"outline",onClick:_,className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),"Add Another Service"]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx(T,{href:route("businesses.index"),children:e.jsx(p,{type:"button",variant:"outline",children:"Skip for Now"})}),e.jsx(p,{type:"submit",disabled:u,size:"lg",children:u?"Adding Services...":"Add Services"})]})]})})]})})]})}export{os as default};
