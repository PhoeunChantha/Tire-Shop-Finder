import{j as e,r as f,u as g,H as v,L as b}from"./app-m4SEsFiE.js";import{A as N}from"./app-layout-BumpU3EB.js";import{C as U,a as D,b as w,d as C,c as y}from"./card-DAZkrJCd.js";import{B as A}from"./button-B-WEzdAj.js";import{D as S,P as T}from"./PaginationWrapper-Bp2rTVOg.js";import{D as _}from"./DeleteModal-BTtVXePO.js";import{T as k,a as M,b as x,c as n,d as F,e as i}from"./table-zhjCq3UJ.js";import{A as E,a as H,b as I}from"./avatar-7NHQ17s9.js";import{A as O}from"./action-button-BLUJYvYe.js";import{g as B}from"./dropdown-menu-BE1c-vsa.js";import{U as L}from"./user-Cu1ybp6j.js";import{M as P}from"./mail-BwgBbrBr.js";import{S as R,U as V}from"./user-plus-DDchT_5r.js";import{S as j}from"./shield-BLMtoxU7.js";import{C as q}from"./calendar-DFZ-2_aj.js";/* empty css            */import"./index-89Llf8Yk.js";import"./index-D61C-zyG.js";import"./index-9BWeTyv_.js";import"./index-D5fK6wwI.js";import"./collapsible-CJSf55eg.js";import"./chevron-right-BHx-thNb.js";import"./app-logo-icon-BvgPms2S.js";import"./use-business-settings-z5aa--sV.js";import"./building-CDBhthyV.js";import"./users-CCvNB95W.js";import"./input-5V3zXozb.js";import"./select-Bucetb1j.js";import"./index-CXFdqqwl.js";import"./chevron-up-DZ2i7E5U.js";import"./check-Cd4UBeWr.js";import"./filter-AGlDKPsx.js";import"./tag-A9Juhgz6.js";import"./search-DxnUE-sH.js";import"./chevron-left-CWJJo8rP.js";import"./dialog-B3QHYN-w.js";import"./triangle-alert-DzJNMw5Q.js";import"./refresh-cw-Tfuecpvj.js";import"./trash-2-BkS2BnsL.js";import"./square-pen-DmLpV6cU.js";import"./eye-CCNsDBNk.js";import"./index-BMjyTS6w.js";function W({users:s,getUserActions:r}){return e.jsx("div",{className:"rounded-md border",children:e.jsxs(k,{children:[e.jsx(M,{children:e.jsxs(x,{children:[e.jsx(n,{children:"User"}),e.jsx(n,{children:"Email"}),e.jsx(n,{children:"Status"}),e.jsx(n,{children:"Created"}),e.jsx(n,{className:"w-[100px]",children:"Actions"})]})}),e.jsx(F,{children:s.data?.length?s.data.map(t=>e.jsxs(x,{children:[e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(E,{className:"h-8 w-8",children:[e.jsx(H,{src:t.profile?B(t.profile,"users"):void 0,alt:t.name}),e.jsx(I,{children:e.jsx(L,{className:"h-4 w-4"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),t.first_name&&t.last_name&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.first_name," ",t.last_name]})]})]})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-muted-foreground"}),t.email]})}),e.jsx(i,{children:e.jsx("div",{className:"flex items-center gap-2",children:t.email_verified_at?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600",children:"Verified"})]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"text-sm text-orange-500",children:"Unverified"})]})})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-muted-foreground"}),new Date(t.created_at).toLocaleDateString()]})}),e.jsx(i,{children:e.jsx(O,{actions:r(t),item:t,layout:"inline",maxInline:2})})]},t.id)):e.jsx(x,{children:e.jsx(i,{colSpan:5,className:"h-24 text-center",children:"No users found."})})})]})})}function z(){const[s,r]=f.useState(null),[t,l]=f.useState(!1),{delete:o,processing:d}=g(),c=()=>{window.location.reload()},m=a=>{r(a),l(!0)};return{deletingUser:s,deleteModalOpen:t,setDeleteModalOpen:l,deleting:d,handleDeleteConfirm:()=>{s&&o(route("users.destroy",s.id),{preserveScroll:!0,onSuccess:()=>{l(!1),r(null),c()},onError:a=>{console.log("Delete errors:",a)}})},getUserActions:a=>[{key:"view",label:"View",href:route("users.show",a.id),variant:"outline"},{key:"edit",label:"Edit",href:route("users.edit",a.id),variant:"outline"},{key:"delete",label:"Delete",onClick:u=>{m(u)},variant:"outline",className:"text-red-600 hover:text-red-700"}],filterConfig:{search:{enabled:!0,placeholder:"Search users by name or email...",debounce:300},perPage:{enabled:!0,default:10},quickFilters:[{key:"email_verified",type:"select",placeholder:"Email Status",icon:j,options:[{value:"",label:"All Users"},{value:"1",label:"Verified"},{value:"0",label:"Unverified"}]}],advancedFilters:[{key:"created_date",type:"date_range",placeholder:"Registration Date"}]}}}function He({auth:s,users:r,filters:t}){const{deletingUser:l,deleteModalOpen:o,setDeleteModalOpen:d,deleting:c,handleDeleteConfirm:m,getUserActions:p,filterConfig:h}=z();return e.jsxs(N,{children:[e.jsx(v,{title:"Users"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:e.jsxs(U,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(w,{children:"Users"}),e.jsx(C,{children:"Manage your application users"})]}),e.jsx(b,{href:route("users.create"),children:e.jsx(A,{children:e.jsx(V,{className:"h-4 w-4"})})})]}),e.jsxs(y,{children:[e.jsx(S,{filters:t||{},config:h}),e.jsx(W,{users:r,getUserActions:p}),e.jsx(T,{paginatedData:r})]})]})}),e.jsx(_,{open:o,setOpen:d,onConfirm:m,title:"Delete User",description:"Are you sure you want to delete this user? This action cannot be undone and will remove all associated data.",itemName:l?.name,confirmText:"Delete User",processing:c})]})}export{He as default};
