import{d as E,r as v,u as F,j as e,H as L}from"./app-m4SEsFiE.js";import{W as A}from"./website-layout-V4DO3rYZ.js";import{B as d}from"./button-B-WEzdAj.js";import{I as h}from"./input-5V3zXozb.js";import{L as o}from"./label-KmRgxdzX.js";import{T as x}from"./textarea-VzZyahIs.js";import{C as D,a as P,b as z,c as B}from"./card-DAZkrJCd.js";import{C as G}from"./checkbox-BcpP1FIe.js";import{T as H,a as I,b as f,c as N}from"./tabs-CEAETiSQ.js";import{G as W}from"./globe-CrBjwrOr.js";import{T as b}from"./trash-2-BkS2BnsL.js";import{P as R}from"./plus-CnyTP5s-.js";/* empty css            */import"./dropdown-menu-BE1c-vsa.js";import"./index-D61C-zyG.js";import"./index-D5fK6wwI.js";import"./index-9BWeTyv_.js";import"./index-BMjyTS6w.js";import"./chevron-up-DZ2i7E5U.js";import"./check-Cd4UBeWr.js";import"./use-business-settings-z5aa--sV.js";import"./menu-BBZNjlwA.js";import"./send-BhHq3YGm.js";import"./external-link-MMDSQ-QP.js";import"./map-pin-BAgRtuu2.js";import"./mail-BwgBbrBr.js";import"./search-DxnUE-sH.js";import"./index-CXFdqqwl.js";function xe({business:p}){const{props:_}=E(),{flash:$}=_;$?.admin_redirect;const[y,k]=v.useState("en"),[n,m]=v.useState([{name:"",price:"",descriptions:"",name_translations:{en:"",km:""},descriptions_translations:{en:"",km:""},status:!0}]),{data:Y,setData:l,post:S,processing:u,errors:t}=F({services:[{name:"",price:"",descriptions:"",name_translations:{en:"",km:""},descriptions_translations:{en:"",km:""},status:!0}]});v.useEffect(()=>{l("services",n)},[]);const j=(r,s,i)=>{const c=[...n];c[r]={...c[r],[s]:i},m(c),l("services",c)},w=()=>{const r=[...n,{name:"",price:"",descriptions:"",name_translations:{en:"",km:""},descriptions_translations:{en:"",km:""},status:!0}];m(r),l("services",r)},g=r=>{if(n.length>1){const s=n.filter((i,c)=>c!==r);m(s),l("services",s)}},C=r=>{r.preventDefault();const s=n.filter(i=>i.name.trim()!==""||i.name_translations.en.trim()!=="");s.length!==0&&S(`/businesses/${p.id}/services`,{transform:i=>({services:s})})},T=()=>{window.location.href="/user-dashboard"};return e.jsxs(A,{children:[e.jsx(L,{title:`Add Services - ${p.name}`}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Add Your Services"}),e.jsxs("p",{className:"text-lg text-gray-600",children:['Great! Your business "',p.name,`" is registered. Now let's add the services you offer.`]})]}),e.jsxs(D,{children:[e.jsx(P,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5"}),"Services & Pricing"]})}),e.jsx(B,{children:e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs(H,{value:y,onValueChange:r=>k(r),children:[e.jsxs(I,{className:"grid w-full grid-cols-2 mb-6 max-w-md",children:[e.jsxs(f,{value:"en",className:"flex items-center gap-2",children:[e.jsx("span",{children:"🇺🇸"}),e.jsx("span",{children:"English"})]}),e.jsxs(f,{value:"km",className:"flex items-center gap-2",children:[e.jsx("span",{children:"🇰🇭"}),e.jsx("span",{children:"ខ្មែរ"})]})]}),e.jsx(N,{value:"en",className:"space-y-6",children:n.map((r,s)=>e.jsxs("div",{className:"border rounded-lg p-6 space-y-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Service #",s+1," (English)"]}),n.length>1&&e.jsxs(d,{type:"button",variant:"destructive",size:"sm",onClick:()=>g(s),children:[e.jsx(b,{className:"w-4 h-4 mr-1"}),"Remove"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:`service-name-en-${s}`,children:["Service Name (English) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:`service-name-en-${s}`,type:"text",value:r.name_translations.en,onChange:i=>{const c=i.target.value,a=[...n];a[s]={...a[s],name_translations:{...a[s].name_translations,en:c},name:c},m(a),l("services",a)},placeholder:"e.g., Tire Installation, Wheel Balancing",className:t[`services.${s}.name_translations.en`]||t[`services.${s}.name`]?"border-red-500":""}),(t[`services.${s}.name_translations.en`]||t[`services.${s}.name`])&&e.jsx("p",{className:"text-sm text-red-500",children:t[`services.${s}.name_translations.en`]||t[`services.${s}.name`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:`service-price-${s}`,children:["Price (USD) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:`service-price-${s}`,type:"number",step:"0.01",min:"0",value:r.price,onChange:i=>j(s,"price",i.target.value),placeholder:"0.00",className:t[`services.${s}.price`]?"border-red-500":""}),t[`services.${s}.price`]&&e.jsx("p",{className:"text-sm text-red-500",children:t[`services.${s}.price`]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:`service-desc-en-${s}`,children:"Service Description (English)"}),e.jsx(x,{id:`service-desc-en-${s}`,value:r.descriptions_translations.en,onChange:i=>{const c=i.target.value,a=[...n];a[s]={...a[s],descriptions_translations:{...a[s].descriptions_translations,en:c},descriptions:c},m(a),l("services",a)},placeholder:"Describe what this service includes...",rows:3,className:t[`services.${s}.descriptions_translations.en`]||t[`services.${s}.descriptions`]?"border-red-500":""}),(t[`services.${s}.descriptions_translations.en`]||t[`services.${s}.descriptions`])&&e.jsx("p",{className:"text-sm text-red-500",children:t[`services.${s}.descriptions_translations.en`]||t[`services.${s}.descriptions`]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:`service-status-${s}`,checked:r.status,onCheckedChange:i=>j(s,"status",i)}),e.jsx(o,{htmlFor:`service-status-${s}`,children:"Service is active and available"})]})]},s))}),e.jsx(N,{value:"km",className:"space-y-6",children:n.map((r,s)=>e.jsxs("div",{className:"border rounded-lg p-6 space-y-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["សេវាកម្ម #",s+1," (ខ្មែរ)"]}),n.length>1&&e.jsxs(d,{type:"button",variant:"destructive",size:"sm",onClick:()=>g(s),children:[e.jsx(b,{className:"w-4 h-4 mr-1"}),"លុបចេញ"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:`service-name-km-${s}`,children:"ឈ្មោះសេវាកម្ម (ខ្មែរ)"}),e.jsx(h,{id:`service-name-km-${s}`,type:"text",value:r.name_translations.km,onChange:i=>{const c=i.target.value,a=[...n];a[s]={...a[s],name_translations:{...a[s].name_translations,km:c}},m(a),l("services",a)},placeholder:"ឧ. ការដំឡើងកង់ ការធ្វើតុល្យភាពកង់",className:t[`services.${s}.name_translations.km`]?"border-red-500":""}),t[`services.${s}.name_translations.km`]&&e.jsx("p",{className:"text-sm text-red-500",children:t[`services.${s}.name_translations.km`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:`service-desc-km-${s}`,children:"ការពិពណ៌នាសេវាកម្ម (ខ្មែរ)"}),e.jsx(x,{id:`service-desc-km-${s}`,value:r.descriptions_translations.km,onChange:i=>{const c=i.target.value,a=[...n];a[s]={...a[s],descriptions_translations:{...a[s].descriptions_translations,km:c}},m(a),l("services",a)},placeholder:"ពិពណ៌នាអំពីអ្វីដែលសេវាកម្មនេះរួមបញ្ចូល...",rows:3,className:t[`services.${s}.descriptions_translations.km`]?"border-red-500":""}),t[`services.${s}.descriptions_translations.km`]&&e.jsx("p",{className:"text-sm text-red-500",children:t[`services.${s}.descriptions_translations.km`]})]})]})]},s))})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(d,{type:"button",variant:"outline",onClick:w,className:"w-full max-w-sm",children:[e.jsx(R,{className:"w-4 h-4 mr-1"}),"Add Another Service"]})}),e.jsxs("div",{className:"flex justify-between items-center space-x-4 pt-6",children:[e.jsx(d,{type:"button",variant:"outline",onClick:T,size:"lg",children:"Skip for Now"}),e.jsx(d,{type:"submit",disabled:u||n.every(r=>!r.name.trim()&&!r.name_translations.en.trim()),size:"lg",children:u?"Creating Services...":`Create ${n.filter(r=>r.name.trim()!==""||r.name_translations.en.trim()!=="").length} Service${n.filter(r=>r.name.trim()!==""||r.name_translations.en.trim()!=="").length!==1?"s":""}`})]})]})})]})]})})]})}export{xe as default};
