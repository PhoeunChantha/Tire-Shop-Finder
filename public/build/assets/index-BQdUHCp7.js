import{h as b,r as o,b as L,j as e,L as we,a as ne}from"./app-m4SEsFiE.js";import{S as Ee}from"./seo-head-_grR8YX2.js";import{W as Le}from"./website-layout-V4DO3rYZ.js";import{B as v}from"./button-B-WEzdAj.js";import{I as ce}from"./input-5V3zXozb.js";import{C as Ge,c as Me}from"./card-DAZkrJCd.js";import{B as de}from"./badge-CvBMkbv0.js";import{S as Z}from"./searchable-select-DmSoQ5zD.js";import{i as De,g as Te}from"./dropdown-menu-BE1c-vsa.js";import{S as B}from"./search-DxnUE-sH.js";import{X as H}from"./index-9BWeTyv_.js";import{L as F}from"./loader-circle-ZYACwF_W.js";import{M as w}from"./map-pin-BAgRtuu2.js";import{F as _e}from"./filter-AGlDKPsx.js";import{a as Ue,C as Ae}from"./chevron-up-DZ2i7E5U.js";import{L as Se}from"./link-D8EI3dRK.js";import{N as ke}from"./navigation-Dxgi_kO7.js";import{P as We}from"./send-BhHq3YGm.js";import{G as Ve}from"./globe-CrBjwrOr.js";import{C as Ze}from"./clock-D1DRmoQH.js";import{W as Be}from"./wrench-Cil6SQd7.js";import{C as He}from"./chevron-right-BHx-thNb.js";import{S as Oe}from"./star-BHohlhdT.js";/* empty css            */import"./check-Cd4UBeWr.js";import"./use-business-settings-z5aa--sV.js";import"./menu-BBZNjlwA.js";import"./external-link-MMDSQ-QP.js";import"./mail-BwgBbrBr.js";import"./chevrons-up-down-DL6jCn9c.js";import"./index-D61C-zyG.js";import"./index-D5fK6wwI.js";import"./index-BMjyTS6w.js";async function Re(r){if(!r||typeof r!="string")return null;const G=r.trim();try{const _=await fetch("/api/public/expand-maps-url",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({url:G})}),d=await _.json();if(!_.ok)throw new Error(d.error||"Failed to parse URL");return d.success&&d.coordinates?{lat:d.coordinates.lat,lng:d.coordinates.lng}:null}catch(_){return console.error("Error parsing Google Maps URL:",_),null}}function ze(r){return`${r.lat.toFixed(6)}, ${r.lng.toFixed(6)}`}const j={success:r=>b.success(r),error:r=>b.error(r),info:r=>b.info(r),warning:r=>b.warning(r),message:r=>b.message(r),loading:r=>b.loading(r),promise:b.promise,custom:b.custom,dismiss:b.dismiss};typeof window<"u"&&(window.toast=j);function Pt({businesses:r,provinces:G,districts:_,filters:d,userLocation:M}){const{t:s}=De(),[m,O]=o.useState(d.search||""),[h,D]=o.useState(d.province_id||""),[g,S]=o.useState(d.district_id||""),[u,N]=o.useState(d.commune_id||""),[k,p]=o.useState(d.village_id||""),[T,me]=o.useState(d.service||""),[R,z]=o.useState(_||[]),[J,U]=o.useState([]),[K,$]=o.useState([]),[Y,xe]=o.useState(!1),[X,he]=o.useState(!1),[q,ge]=o.useState(!1),[y,I]=o.useState(!1),[C,Q]=o.useState(!1),[i,ee]=o.useState(M?.lat&&M?.lng?{lat:M.lat,lng:M.lng}:null),[A,te]=o.useState(""),[se,ae]=o.useState(!1),[re,P]=o.useState(""),[x,W]=o.useState(!1);o.useEffect(()=>{h?(xe(!0),L.get(`/api/public/districts/${h}`).then(t=>{z(t.data)}).catch(t=>{console.error("Error loading districts:",t)}).finally(()=>{xe(!1)})):(z([]),S(""),U([]),N(""),$([]),p(""))},[h]),o.useEffect(()=>{g?(he(!0),L.get(`/api/public/communes/${g}`).then(t=>{U(t.data)}).catch(t=>{console.error("Error loading communes:",t)}).finally(()=>{he(!1)})):(U([]),N(""),$([]),p(""))},[g]),o.useEffect(()=>{u?(ge(!0),L.get(`/api/public/villages/${u}`).then(t=>{$(t.data)}).catch(t=>{console.error("Error loading villages:",t)}).finally(()=>{ge(!1)})):($([]),p(""))},[u]);const le=()=>{if(!navigator.geolocation){j.error("GPS location services are not available on this device");return}I(!0);let t=null,a=1/0;const l=Date.now(),c=navigator.geolocation.watchPosition(async n=>{try{const{accuracy:f}=n.coords;if(console.log(`GPS reading: ${f.toFixed(1)}m accuracy`),f<a&&(a=f,t=n),(f<100||a<200||Date.now()-l>2e4)&&t){navigator.geolocation.clearWatch(c);const E=t?.coords.accuracy||0;console.log(`Using position with ${E.toFixed(1)}m accuracy`);const be=async()=>{const Ie=await L.post("/api/public/reverse-geocode",{latitude:t?.coords.latitude,longitude:t?.coords.longitude,accuracy:E}),{province_id:ve,district_id:je,commune_id:Ne,village_id:ye}=Ie.data;ee({lat:t?.coords.latitude||0,lng:t?.coords.longitude||0,accuracy:E}),ve&&D(ve.toString()),je&&S(je.toString()),Ne&&N(Ne.toString()),ye&&p(ye.toString()),setTimeout(()=>{t?.coords&&ie(t.coords.latitude,t.coords.longitude)},300),I(!1)};E>1e3&&j.warning(`Location accuracy is low (${(E/1e3).toFixed(1)}km). Results might be distant.`),be()}}catch(f){navigator.geolocation.clearWatch(c),console.error("Error processing location:",f),j.error("Unable to find tire shops near your location. Please try manual search."),I(!1)}},n=>{switch(navigator.geolocation.clearWatch(c),console.error("GPS error:",n),I(!1),n.code){case n.PERMISSION_DENIED:j.error("Location permission denied. Please enable location services and allow GPS access.");break;case n.POSITION_UNAVAILABLE:j.error("GPS signal not available. Please ensure location services are enabled and try outdoors.");break;case n.TIMEOUT:j.error("GPS timeout. Please check your location settings or try again outdoors.");break;default:j.error("Unable to get your GPS location. Please try manual search.");break}},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0});setTimeout(()=>{c&&y&&(navigator.geolocation.clearWatch(c),t&&a<5e3?console.log(`Timeout reached, using best position: ${a.toFixed(1)}m`):(I(!1),j.error("Could not get accurate GPS location. Please try again outdoors or use manual search.")))},25e3)},ue=async()=>{if(!A.trim()){P("Please enter a Google Maps link");return}ae(!0),P("");try{const t=await Re(A.trim());if(!t){P("Could not extract coordinates from this link. Please try a different Google Maps link."),ae(!1);return}console.log("Parsed coordinates:",ze(t));const a=await L.post("/api/public/reverse-geocode",{latitude:t.lat,longitude:t.lng,accuracy:50}),{province_id:l,district_id:c,commune_id:n,village_id:f}=a.data;ee({lat:t.lat,lng:t.lng,accuracy:50}),l&&D(l.toString()),c&&S(c.toString()),n&&N(n.toString()),f&&p(f.toString()),te(""),setTimeout(()=>{ie(t.lat,t.lng)},300)}catch(t){console.error("Error processing Google Maps URL:",t);let a="Error processing the link. Please try again or use GPS location instead.";if(t instanceof Error){a=t.message;try{const l=JSON.parse(t.message);l.debug_info&&(console.log("Debug info:",l.debug_info),l.debug_info.expanded_url&&console.log("Expanded URL was:",l.debug_info.expanded_url),l.debug_info.patterns_tested&&console.log("Pattern test results:",l.debug_info.patterns_tested))}catch{}}P(a)}ae(!1)},ie=(t,a)=>{const l={lat:t||i?.lat,lng:a||i?.lng};W(!0),ne.get("/tire-shops",{search:m,province_id:h,district_id:g,commune_id:u,village_id:k,service:T,user_lat:l.lat,user_lng:l.lng},{preserveState:!0,replace:!0,onFinish:()=>W(!1)})},V=()=>{Q(!1),W(!0),i?ie():ne.get("/tire-shops",{search:m,province_id:h,district_id:g,commune_id:u,village_id:k,service:T},{preserveState:!0,replace:!0,onFinish:()=>W(!1)})},pe=()=>{O(""),D(""),S(""),N(""),p(""),me(""),z([]),U([]),$([]),te(""),P(""),ee(null),ne.get("/tire-shops")},Ce=t=>{if(t.distance!==void 0&&i){const a=parseFloat(String(t.distance));return a<1?s("distance_away",{distance:`${(a*1e3).toFixed(0)}m`}):s("distance_away",{distance:`${a.toFixed(1)}km`})}return t.province?.name&&t.district?.name?`${t.district.name}, ${t.province.name}`:s("location_not_specified")},oe=()=>{const t=[];if(k&&K.length>0){const a=K.find(l=>l.id.toString()===k);a&&t.push(a.name)}if(u&&J.length>0){const a=J.find(l=>l.id.toString()===u);a&&t.push(a.name)}if(g&&R.length>0){const a=R.find(l=>l.id.toString()===g);a&&t.push(a.name)}if(h){const a=G.find(l=>l.id.toString()===h);a&&t.push(a.name)}return t.length>0?t.join(", "):"Cambodia"},Pe=()=>{const t=oe();return m?`${m} Tire Shops in ${t}`:i?"Nearest Tire Shops - Find Tire Services Near You":t!=="Cambodia"?`Tire Shops in ${t}`:"Find Tire Shops in Cambodia"},Fe=()=>{const t=oe(),a=r.total;return i?`Find the nearest tire shops and services near your location. ${a} verified tire shops in Cambodia with professional installation, repair, and replacement services.`:m?`Search results for "${m}" tire services in ${t}. ${a} professional tire shops offering quality services and competitive prices.`:`Discover ${a} verified tire shops in ${t}. Professional tire installation, repair, balancing, and replacement services across Cambodia.`},$e=()=>{const t=["tire shops","tire services","tire installation","tire repair","Cambodia"],a=oe();return a!=="Cambodia"&&t.push(a),m&&t.push(m),i&&t.push("nearest tire shop","tire shop near me"),t},fe=t=>[1,2,3,4,5].map(a=>e.jsx(Oe,{className:`w-4 h-4 ${a<=t?"text-yellow-500 fill-current":"text-gray-300"}`},a));return e.jsxs(Le,{children:[e.jsx(Ee,{title:Pe(),description:Fe(),keywords:$e(),type:"website",url:typeof window<"u"?window.location.href:void 0}),e.jsxs("div",{className:"relative bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PGNpcmNsZSBjeD0iNyIgY3k9IjciIHI9IjEuNSIvPjwvZz48L2c+PC9zdmc+')] opacity-20"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-full text-sm font-medium mb-6 animate-pulse",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),s("cambodia_tire_directory")]}),e.jsx("h1",{className:"text-5xl md:text-7xl font-black mb-6 bg-gradient-to-r from-white via-blue-50 to-indigo-100 bg-clip-text text-transparent leading-tight",children:s("find_tire_shops_near_you")}),e.jsx("p",{className:"text-xl md:text-2xl text-blue-100/90 mb-12 max-w-3xl mx-auto leading-relaxed",children:s("discover_verified_professionals")}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/20 p-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(B,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(ce,{placeholder:s("search_placeholder_detailed"),value:m,onChange:t=>O(t.target.value),className:"pl-12 pr-4 py-4 text-gray-900 bg-transparent border-0 focus:ring-0 text-lg placeholder:text-gray-500 font-medium",onKeyDown:t=>t.key==="Enter"&&V()}),m&&e.jsx("button",{onClick:()=>O(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(H,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(v,{onClick:le,disabled:y,className:"px-6 py-4 bg-green-600 hover:bg-green-700 text-white rounded-xl font-semibold transition-all duration-200 transform hover:scale-105 shadow-lg",children:[y?e.jsx(F,{className:"w-5 h-5 mr-2 animate-spin"}):e.jsx(w,{className:"w-5 h-5 mr-2"}),s("near_me")]}),e.jsx(v,{onClick:V,disabled:x,className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-xl font-semibold transition-all duration-200 transform hover:scale-105 shadow-lg disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none",children:x?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-5 h-5 mr-2 animate-spin"}),s("searching")]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-5 h-5 mr-2"}),s("search")]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mt-12 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:[r.total,"+"]}),e.jsx("div",{className:"text-blue-200 text-sm font-medium",children:s("verified_shops")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"24/7"}),e.jsx("div",{className:"text-blue-200 text-sm font-medium",children:s("emergency_service")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"⭐ 4.8"}),e.jsx("div",{className:"text-blue-200 text-sm font-medium",children:s("average_rating")})]})]})]})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:"lg:hidden",children:e.jsx("div",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-md border-b border-gray-200 -mx-4 px-4 py-4 mb-6",children:e.jsxs(v,{onClick:()=>Q(!C),variant:C?"default":"outline",className:"w-full transition-all duration-300 transform active:scale-95",children:[e.jsx(_e,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"flex-1 text-left",children:s(C?"hide_filters":"show_filters")}),C?e.jsx(Ue,{className:"w-4 h-4 ml-2"}):e.jsx(Ae,{className:"w-4 h-4 ml-2"})]})})}),e.jsx("div",{className:`w-full lg:w-80 lg:shrink-0 transition-all duration-300 ease-in-out ${C?"block opacity-100 translate-y-0":"hidden lg:block lg:opacity-100 lg:translate-y-0"}`,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:sticky lg:top-6 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[e.jsx(_e,{className:"w-5 h-5 mr-2 text-blue-600"}),"Filters"]}),C&&e.jsx("button",{onClick:()=>Q(!1),className:"lg:hidden text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(H,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(w,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-900",children:s("location_services")})]}),e.jsx(v,{onClick:le,disabled:y,className:`w-full transition-all duration-300 transform hover:scale-105 ${i?"bg-green-600 hover:bg-green-700 text-white shadow-lg":y?"bg-blue-500 text-white":"bg-white border-2 border-green-600 text-green-600 hover:bg-green-600 hover:text-white"}`,children:y?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-4 h-4 mr-2 animate-spin"}),s("locating")]}):i?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),s("location_active")]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),s("use_my_location")]})}),i&&e.jsxs("div",{className:"mt-3 p-3 bg-white/80 rounded-lg border border-green-200",children:[e.jsxs("p",{className:"text-sm text-green-700 font-medium flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),s("gps_location_active")]}),i.accuracy&&e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[s("accuracy"),": ",i.accuracy<10?s("accuracy_very_precise"):i.accuracy<100?s("accuracy_good"):i.accuracy<1e3?s("accuracy_fair"):s("accuracy_poor"),"(",i.accuracy>1e3?`${(i.accuracy/1e3).toFixed(1)}km`:`${i.accuracy.toFixed(0)}m`,")"]})]})]})}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Se,{className:"w-4 h-4 text-blue-600"}),e.jsx("label",{className:"text-sm font-medium text-blue-900",children:s("share_google_maps_location")})]}),e.jsx("p",{className:"text-xs text-blue-700 mb-3",children:s("paste_google_maps_link")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{placeholder:s("google_maps_placeholder"),value:A,onChange:t=>{te(t.target.value),re&&P("")},onKeyDown:t=>t.key==="Enter"&&ue(),className:"text-gray-900 text-sm",disabled:se}),re&&e.jsx("p",{className:"text-xs text-red-600",children:re}),e.jsx(v,{onClick:ue,disabled:se||!A.trim(),variant:"outline",size:"sm",className:"w-full text-blue-700 border-blue-300 hover:bg-blue-100",children:se?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-2 border-current border-t-transparent mr-2"}),s("processing_link")]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"w-3 h-3 mr-2"}),s("use_this_location")]})})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:s("province")}),e.jsx(Z,{options:[{value:"",label:s("all_provinces")},...G.map(t=>({value:t.id.toString(),label:t.name}))],value:h,onValueChange:t=>{console.log("Province selected:",t),D(t),S(""),N(""),p("")},placeholder:s("select_province"),className:"text-gray-900"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:s("district")}),e.jsx(Z,{options:[{value:"",label:s("all_districts")},...R.map(t=>({value:t.id.toString(),label:t.name}))],value:g,onValueChange:t=>{console.log("District selected:",t),S(t),N(""),p("")},placeholder:s(Y?"loading_districts":"select_district"),loading:Y,disabled:Y||!h,className:"text-gray-900"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:s("commune")}),e.jsx(Z,{options:[{value:"",label:s("all_communes")},...J.map(t=>({value:t.id.toString(),label:t.name}))],value:u,onValueChange:t=>{console.log("Commune selected:",t),N(t),p("")},placeholder:s(X?"loading_communes":"select_commune"),loading:X,disabled:X||!g,className:"text-gray-900"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:s("village")}),e.jsx(Z,{options:[{value:"",label:s("all_villages")},...K.map(t=>({value:t.id.toString(),label:t.name}))],value:k,onValueChange:t=>{console.log("Village selected:",t),p(t)},placeholder:s(q?"loading_villages":"select_village"),loading:q,disabled:q||!u,className:"text-gray-900"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:s("service_type")}),e.jsx(ce,{placeholder:s("service_placeholder"),value:T,onChange:t=>me(t.target.value),className:"text-gray-900",onKeyDown:t=>t.key==="Enter"&&V()})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(v,{onClick:V,disabled:x,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 transition-all duration-200 transform hover:scale-105 active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none",children:x?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-4 h-4 mr-2 animate-spin"}),s("searching")]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),s("apply_filters")]})}),(m||h||g||u||k||T||i)&&e.jsxs(v,{variant:"outline",onClick:pe,className:"w-full border-2 border-gray-300 hover:border-red-400 hover:text-red-600 hover:bg-red-50 font-semibold py-3 transition-all duration-200 transform hover:scale-105 active:scale-95",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),s("clear_all_filters")]})]})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:i?e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3 animate-pulse"}),s("nearest_tire_shops")]}):s("available_tire_shops")}),e.jsx("p",{className:"text-gray-600 text-lg",children:x?e.jsxs("span",{className:"flex items-center",children:[e.jsx(F,{className:"w-4 h-4 mr-2 animate-spin"}),s("searching_tire_shops")]}):i?s("found_shops_by_distance",{count:r.total}):s("professional_shops_ready",{count:r.total})}),i&&!x&&e.jsxs("div",{className:"flex items-center gap-2 mt-3 p-2 bg-green-50 rounded-lg border border-green-200",children:[e.jsx(w,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:s("gps_active_showing_nearest")})]})]}),!x&&r.total>0&&e.jsxs("div",{className:"text-center sm:text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:r.total}),e.jsx("div",{className:"text-sm text-gray-500",children:s("shops_found")})]})]})}),x&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8 mb-8",children:[1,2,3,4,5,6].map(t=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-56 bg-gray-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4 w-1/2"}),e.jsx("div",{className:"h-16 bg-gray-200 rounded mb-4"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded-full px-3 py-1 w-16"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded-full px-3 py-1 w-20"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]})]})]},t))}),!x&&r.data.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:r.data.map((t,a)=>e.jsx(Ge,{className:"group hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 cursor-pointer overflow-hidden border-0 shadow-lg bg-white py-0",children:e.jsxs(we,{href:`/tire-shops/${String(t.slug)}`,className:"block",children:[e.jsxs("div",{className:"relative h-56 bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[t.image?e.jsx("img",{src:Te(t.image,"businesses"),alt:String(t.name),className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:l=>{const c=l.target;c.style.display="none";const n=c.parentElement;n&&(n.innerHTML='<div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100"><div class="text-center p-4"><div class="w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg"><svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg></div><p class="text-base font-medium text-gray-700">Tire Shop</p><p class="text-sm text-gray-500">Professional Service</p></div></div>')}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsx("p",{className:"text-base font-medium text-gray-700",children:s("tire_shop")}),e.jsx("p",{className:"text-sm text-gray-500",children:s("professional_service")})]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),t.distance!==void 0&&i&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs(de,{className:"bg-green-500/90 hover:bg-green-600 text-white shadow-xl backdrop-blur-sm border-0 px-3 py-1.5 text-sm font-semibold",children:[e.jsx(ke,{className:"w-3 h-3 mr-1"}),(()=>{const l=parseFloat(String(t.distance));return l<1?`${(l*1e3).toFixed(0)}m`:`${l.toFixed(1)}km`})()]})}),e.jsx("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0",children:e.jsxs("div",{className:"flex gap-2",children:[t.phone&&e.jsx("button",{className:"w-10 h-10 bg-white/90 hover:bg-white rounded-full flex items-center justify-center shadow-lg backdrop-blur-sm transition-all duration-200 hover:scale-110",children:e.jsx(We,{className:"w-4 h-4 text-green-600"})}),t.website&&e.jsx("button",{className:"w-10 h-10 bg-white/90 hover:bg-white rounded-full flex items-center justify-center shadow-lg backdrop-blur-sm transition-all duration-200 hover:scale-110",children:e.jsx(Ve,{className:"w-4 h-4 text-blue-600"})})]})})]}),e.jsxs(Me,{className:"p-6 bg-white",children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors duration-200 line-clamp-1",children:String(t.name)}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(w,{className:"w-4 h-4 mr-2 text-red-500 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium line-clamp-1",children:Ce(t)})]}),t.formatted_hours&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ze,{className:"w-4 h-4 mr-2 text-blue-500 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium",children:String(t.formatted_hours)})]})]})]}),t.descriptions&&e.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2 leading-relaxed",children:String(t.descriptions)}),t.services&&t.services.length>0&&e.jsxs("div",{className:"mb-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Be,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:s("services_available")})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.services.slice(0,3).map(l=>e.jsx(de,{variant:"outline",className:"text-xs border-blue-200 text-blue-700 bg-blue-50 hover:bg-blue-100 transition-colors font-medium px-2 py-1",children:l.name},l.id)),t.services.length>3&&e.jsxs(de,{variant:"outline",className:"text-xs border-gray-300 text-gray-600 bg-gray-50 font-medium px-2 py-1",children:["+",t.services.length-3," more"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsx("div",{className:"flex items-center",children:t.reviews_count&&t.reviews_count>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center mr-2",children:fe(Math.round(t.reviews_avg_rate||0))}),e.jsxs("span",{className:"text-gray-600 text-sm font-medium",children:[t.reviews_avg_rate?.toFixed(1)," (",t.reviews_count,")"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center text-gray-300 mr-2",children:fe(0)}),e.jsx("span",{className:"text-gray-400 text-sm",children:s("new_listing")})]})}),e.jsxs("div",{className:"flex items-center text-blue-600 group-hover:text-blue-800 transition-colors font-semibold",children:[e.jsx("span",{className:"text-sm mr-1",children:s("view_details")}),e.jsx(He,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-200"})]})]})]})]})},`business-${t.id||a}`))}):x?null:e.jsx("div",{className:"text-center py-20",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"w-32 h-32 mx-auto bg-gradient-to-br from-blue-100 to-indigo-200 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(ke,{className:"w-16 h-16 text-blue-500"})}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center shadow-lg animate-bounce",children:e.jsx(B,{className:"w-6 h-6 text-white"})})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:s("no_tire_shops_found")}),e.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:s("no_shops_description")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsxs(v,{onClick:pe,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all duration-200 transform hover:scale-105",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),s("clear_all_filters")]}),e.jsxs(v,{onClick:le,variant:"outline",disabled:y,className:"px-6 py-3 border-2 border-green-600 text-green-600 hover:bg-green-600 hover:text-white rounded-xl font-semibold transition-all duration-200 transform hover:scale-105",children:[y?e.jsx(F,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(w,{className:"w-4 h-4 mr-2"}),s("try_near_me")]})]}),e.jsxs("div",{className:"mt-10 p-6 bg-gray-50 rounded-xl text-left",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:s("search_tips")}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),s("search_tip_1")]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),s("search_tip_2")]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),s("search_tip_3")]})]})]})]})}),!x&&r.last_page>1&&e.jsx("div",{className:"mt-16",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:s("showing_page",{current:r.current_page,last:r.last_page})}),e.jsx("p",{className:"text-sm text-gray-600",children:s("showing_range",{from:r.from,to:r.to,total:r.total})})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:r.links.map((t,a)=>{const l=t.active,c=!t.url,n=t.label.includes("Previous")||t.label.includes("Next");return e.jsx(we,{href:t.url||"#",className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${l?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg transform scale-105":c?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-blue-50 hover:border-blue-400 hover:text-blue-600 transform hover:scale-105"} ${n?"px-6":""}`,dangerouslySetInnerHTML:{__html:t.label}},a)})})]})})]})]})})]})}export{Pt as default};
